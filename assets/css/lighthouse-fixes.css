/**
 * LIGHTHOUSE-FIXES.CSS
 * Fixes for Lighthouse audit issues
 * - Touch target sizing (44x44px minimum)
 * - Contrast ratio improvements
 * - Image aspect ratios
 */

/* ============================================================================
   TOUCH TARGET IMPROVEMENTS (Accessibility Fix)
   ============================================================================ */

/* Ensure all interactive elements meet 44x44px minimum */
a, button, input[type="button"], input[type="submit"], input[type="reset"],
select, textarea, .btn, .button {
  min-height: 44px !important;
  min-width: 44px !important;
  padding: 12px 16px;
}

/* Small buttons in navigation - ensure sufficient size */
.nav-list a,
.menu-toggle,
.theme-toggle,
.contrast-toggle,
.lang-switch {
  min-height: 48px !important;
  min-width: 48px !important;
  padding: 12px 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Touch targets in footer - increase spacing */
footer a {
  min-height: 44px;
  padding: 8px 12px;
  display: inline-block;
}

/* Social media icons - ensure adequate size */
.social-links a {
  min-height: 48px;
  min-width: 48px;
  padding: 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

/* Cookie banner buttons */
.cookie-actions button,
.cookie-banner button {
  min-height: 48px;
  min-width: 120px;
  padding: 12px 24px;
  margin: 4px;
}

/* Back to top button */
.back-to-top,
#back-to-top {
  min-height: 56px;
  min-width: 56px;
  padding: 16px;
}

/* Modal close buttons */
.modal-close,
button[aria-label*="close"],
button[aria-label*="Close"] {
  min-height: 48px;
  min-width: 48px;
}

/* ============================================================================
   CONTRAST IMPROVEMENTS (Accessibility Fix)
   ============================================================================ */

/* Ensure all text meets WCAG AA minimum (4.5:1) or AAA (7:1) */
.text-muted,
.text-secondary,
small,
.caption {
  color: #495057 !important; /* 9.3:1 contrast on white - AAA */
}

/* Link contrast - ensure visibility */
a {
  color: #004085; /* 10.2:1 on white - AAA */
  text-decoration: underline;
}

a:hover,
a:focus {
  color: #002752; /* 15.6:1 on white - AAA */
  text-decoration: underline;
}

/* Footer text - ensure sufficient contrast */
footer,
footer p,
footer a {
  color: #ffffff; /* On dark background */
}

/* Status banner text */
.status-banner,
.alert,
.notice {
  color: #000000; /* Maximum contrast */
}

/* Breadcrumb contrast */
.breadcrumbs a {
  color: #004085;
  text-decoration: underline;
}

/* ============================================================================
   IMAGE ASPECT RATIO FIXES (Best Practices Fix)
   ============================================================================ */

/* Prevent layout shift with aspect ratios */
img {
  height: auto;
  max-width: 100%;
  display: block;
}

/* Logo - explicit size */
.site-brand img,
.brand img {
  width: 28px;
  height: 28px;
  object-fit: contain;
}

/* Social icons - consistent sizing */
.social-links svg,
.social-links img {
  width: 24px;
  height: 24px;
  object-fit: contain;
}

/* Feature images - maintain aspect ratio */
.feature-box img,
.card img {
  aspect-ratio: 16 / 9;
  object-fit: cover;
  width: 100%;
}

/* Ensure all images have dimensions */
img:not([width]):not([height]) {
  aspect-ratio: attr(width) / attr(height);
}

/* ============================================================================
   ADDITIONAL SPACING FOR TOUCH TARGETS
   ============================================================================ */

/* Add spacing between adjacent touch targets */
.nav-list li {
  margin: 4px 0;
}

.button-group > * {
  margin: 8px 4px;
}

footer a {
  margin: 0 8px 8px 0;
}

.social-links a {
  margin: 8px;
}

/* ============================================================================
   FOCUS VISIBLE IMPROVEMENTS
   ============================================================================ */

/* Enhanced focus indicators for better visibility */
*:focus-visible {
  outline: 3px solid #004085 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(0, 64, 133, 0.2) !important;
}

/* Skip links - ensure visibility when focused */
.skip-link:focus {
  clip: auto !important;
  height: auto !important;
  width: auto !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  z-index: 10000 !important;
  background: #004085 !important;
  color: #ffffff !important;
  padding: 16px 24px !important;
  font-size: 16px !important;
  text-decoration: none !important;
  min-height: 48px;
}

/* ============================================================================
   PRINT STYLES (Accessibility Enhancement)
   ============================================================================ */

@media print {
  /* Ensure sufficient contrast in print */
  * {
    color: #000000 !important;
    background: #ffffff !important;
  }
  
  a {
    color: #000000 !important;
    text-decoration: underline !important;
  }
  
  /* Show URLs after links */
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.9em;
    color: #495057;
  }
}
