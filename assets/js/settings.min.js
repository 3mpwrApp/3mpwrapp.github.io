!function(){var e="a11y-settings",t={fontScale:100,lineHeight:"normal",letterSpacing:"normal",underlineLinks:"auto",readableFont:"default",reduceMotion:"auto",colorFilter:"none",focusRing:"default"};function n(){try{return Object.assign({},t,JSON.parse(localStorage.getItem(e)||"{}"))}catch(e){return Object.assign({},t)}}function a(t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function r(e){var t=document.documentElement;t.style.setProperty("--font-scale",(e.fontScale/100).toString()),t.style.setProperty("--line-height","loose"===e.lineHeight?"1.8":"1.6"),t.style.setProperty("--letter-spacing","wide"===e.letterSpacing?"0.02em":"0"),t.setAttribute("data-link-underline",e.underlineLinks),t.setAttribute("data-readable-font",e.readableFont),t.setAttribute("data-reduce-motion",e.reduceMotion),t.setAttribute("data-color-filter",e.colorFilter),t.setAttribute("data-focus-ring",e.focusRing),window.announce&&window.announce("Accessibility settings applied")}function o(){var e=document.querySelector("[data-a11y-form]");if(e){var l=n(),i=e.querySelector('[name="font-scale"]'),c=e.querySelector('[name="line-height"]'),u=e.querySelector('[name="letter-spacing"]'),d=e.querySelector('[name="underline-links"]'),s=e.querySelector('[name="readable-font"]'),g=e.querySelector("[data-reset]"),f=e.querySelector('[name="reduce-motion"]'),S=e.querySelector('[name="color-filter"]'),v=e.querySelector('[name="focus-ring"]');i&&(i.value=l.fontScale),c&&(c.value=l.lineHeight),u&&(u.value=l.letterSpacing),d&&(d.value=l.underlineLinks),s&&(s.value=l.readableFont),f&&(f.value=l.reduceMotion),S&&(S.value=l.colorFilter),v&&(v.value=l.focusRing),["change","input"].forEach(function(t){e.addEventListener(t,function(e){var t;e&&e.target&&e.target.name&&(a(t={fontScale:parseInt(i&&i.value||l.fontScale,10)||100,lineHeight:c&&c.value||l.lineHeight,letterSpacing:u&&u.value||l.letterSpacing,underlineLinks:d&&d.value||l.underlineLinks,readableFont:s&&s.value||l.readableFont,reduceMotion:f&&f.value||l.reduceMotion,colorFilter:S&&S.value||l.colorFilter,focusRing:v&&v.value||l.focusRing}),r(t))})}),g&&g.addEventListener("click",function(){a(t),r(t),o()}),r(l)}}r(n()),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o,{once:!0}):o()}();