!function(){"use strict";const e="lazy-loading",t="loading"in HTMLImageElement.prototype;function n(){const n=document.querySelectorAll('img[data-src], img[loading="lazy"]');0!==n.length&&(t?n.forEach(e=>{e.dataset.src&&(e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset))}):function(t){const n=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(t.isIntersecting){const a=t.target;!function(t){const n=t.dataset.src||t.src,a=t.dataset.srcset,s=new Image;s.onload=function(){t.src=n,a&&(t.srcset=a),t.classList.remove(e),t.classList.add("lazy-loaded"),delete t.dataset.src,delete t.dataset.srcset},s.onerror=function(){t.classList.remove(e),t.classList.add("lazy-error"),t.alt=t.alt||"Failed to load image"},s.src=n,a&&(s.srcset=a)}(a),n.unobserve(a)}})},{rootMargin:"50px",threshold:.01});t.forEach(t=>{t.classList.add(e),n.observe(t)})}(n))}function a(){document.querySelectorAll("img[data-responsive]").forEach(e=>{const t=e.src||e.dataset.src;if(!t)return;const n=[320,640,768,1024,1280,1920].map(e=>`${t.replace(/\.(jpg|jpeg|png|webp)$/i,`-${e}w.$1`)} ${e}w`).join(", ");e.srcset=n,e.sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"})}function s(){const e=new Image;e.onload=e.onerror=function(){const t=1===e.height;document.documentElement.classList.toggle("webp",t),document.documentElement.classList.toggle("no-webp",!t)},e.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}function o(){document.querySelectorAll("img[data-critical]").forEach(e=>{const t=document.createElement("link");t.rel="preload",t.as="image",t.href=e.src||e.dataset.src,(e.srcset||e.dataset.srcset)&&(t.imageSrcset=e.srcset||e.dataset.srcset),document.head.appendChild(t)})}function c(){const e=document.createElement("style");e.textContent="\n      .lazy-loading {\n        filter: blur(10px);\n        transition: filter 0.3s ease;\n      }\n      \n      .lazy-loaded {\n        filter: blur(0);\n      }\n      \n      .lazy-error {\n        opacity: 0.5;\n        background: #f0f0f0;\n        border: 2px dashed #ccc;\n      }\n      \n      img[data-src] {\n        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n        background-size: 200% 100%;\n        animation: loading 1.5s ease-in-out infinite;\n      }\n      \n      @keyframes loading {\n        0% { background-position: 200% 0; }\n        100% { background-position: -200% 0; }\n      }\n    ",document.head.appendChild(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){s(),c(),o(),a(),n()}):(s(),c(),o(),a(),n()),"undefined"!=typeof MutationObserver&&new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.length&&n()})}).observe(document.body,{childList:!0,subtree:!0})}();